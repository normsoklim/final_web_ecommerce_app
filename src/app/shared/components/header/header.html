<nav class="navbar navbar-expand-lg bg-white shadow-sm py-3">
  <div class="container">

    <!-- Brand -->
    <a class="navbar-brand d-flex align-items-center" routerLink="/">
      <img src="/image/logoforweb.png" alt="logo" style="width: 60px; height: 60px;">
    </a>

    <!-- Mobile Toggle -->
    <button class="navbar-toggler border-0" type="button" (click)="toggleMenu()">
      <span class="navbar-toggler-icon"></span>
    </button>


    <!-- Offcanvas Menu -->
    <div class="offcanvas-collapse" [ngClass]="{ 'show': isMenuOpen }" id="navbarNav">

      <!-- Close button -->
      <button class="close-btn" (click)="toggleMenu()">
        &times;
      </button>

      <!-- Centered Nav Items -->
      <ul class="navbar-nav flex-column text-center mt-5 gap-3">

        <li class="nav-item">
          <a class="nav-link" routerLink="/" routerLinkActive="active-link" (click)="toggleMenu()">Home</a>
        </li>

        <!-- Shop -->
        <li class="nav-item dropdown hover-dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown">
            Shop
          </a>
          <ul class="dropdown-menu text-center">
            <li><a class="dropdown-item" routerLink="/product-page" (click)="toggleMenu()">
                <img src="/image/box.png" style="width:20px;height:20px;"> Products
              </a></li>
          </ul>
        </li>

        
        <!-- Cart -->
        <li class="nav-item position-relative">
          <a class="nav-link d-flex justify-content-center align-items-center" routerLink="/cart"
            (click)="toggleMenu()">
            <img src="/image/add-button.png" style="width:24px;height:24px;">
            <span class="badge rounded-pill bg-danger ms-1" style="font-size:0.6rem; min-width:18px; line-height:1;">
              {{ cartService.getCartItem().length }}
            </span>
          </a>
        </li>
       <!-- User -->
        <li class="nav-item dropdown hover-dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown">
            <img src="/image/person.png" alt="">
          </a>
          <ul class="dropdown-menu text-center">
            <li class="nav-item">
              <a class="nav-link" routerLink="/login" (click)="toggleMenu()">Login</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" routerLink="/register" (click)="toggleMenu()">Register</a>
            </li>
          </ul>
        </li>

        <!-- Contact -->
        <li class="nav-item" *ngIf="!isLoggedIn">
          <a class="nav-link" routerLink="/contact" (click)="toggleMenu()">Contact</a>
        </li>

         <!-- Search -->
        <li class="nav-item">
          <form class="d-flex justify-content-center" (ngSubmit)="onSearch(searchInput.value)">
            <input #searchInput type="text" class="form-control me-2" placeholder="Search..." style="max-width: 250px;">
            <button class="btn btn-outline-primary" type="submit">Search</button>
          </form>
        </li>
      </ul>
    </div>

  </div>
</nav>